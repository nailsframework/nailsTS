!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(module,exports){(void 0)("modules/injectme.module",[],(function(e,t){"use strict";t&&t.id;return{setters:[],execute:function(){e("Greeter",class{constructor(){}greet(e){return"Hi, "+e}})}}})),(void 0)("nails/directiveDefinitions",["nails/engine"],(function(exports_2,context_2){"use strict";var engine_1,NailsDirectives,__moduleName=context_2&&context_2.id;return{setters:[function(e){engine_1=e}],execute:function(){NailsDirectives=class NailsDirectives{constructor(){this.directives=["if","form","for","test"]}form(e,t,n){"text"===e.getAttribute("type")&&n.data[t]!==e.innerText&&(n.data[t]=e.innerText),e.addEventListener("input",(function(){n.data[t]!==e.innerText&&(n.data[t]=e.innerText)}))}for(element,statemenet,state){var engine=new engine_1.RenderingEngine(state);function interpolateCustomElement(element,object,descriptor){var html=element.innerHTML,interpolations=engine.getInterpolationsFortextContent(html);for(var interpolation of interpolations){var stripped=engine.stripAndTrimInterpolation(interpolation),args=stripped.split(".");for(var arg of(args[0]="",stripped="",args))stripped+=arg+".";stripped=stripped.substring(0,stripped.length-1),"undefined"!==engine.getValueOfInterpolation(interpolation)?html=html.replace(interpolation,engine.getValueOfInterpolation(interpolation)):(console.log("interpolation inside"),html=html.replace(interpolation,engine.sanitize(eval("object"+stripped))))}element.innerHTML=html}element.style.display="none";var descriptor=statemenet.split(" ")[1],arr=statemenet.split(" ")[3],refArray=eval("state.data."+arr);if(null!=refArray){var parent=element.parentNode;for(var i of(parent.childNodes.length>5&&(console.log("State change?"),console.log(parent.childNodes.length)),refArray)){var child=document.createElement(element.nodeName);child.innerHTML=element.innerHTML,interpolateCustomElement(child,i,descriptor),parent.appendChild(child);for(let e of element.attributes)"n-for"!==e.name&&"style"!==e.name&&child.setAttribute(e.name,e.value);engine.executeDirectivesOnElement(child,!0)}}}if(element,statement,state){var reversed=!1;"!"===statement[0]&&(statement=statement.substring(1),reversed=!0),state.data.hasOwnProperty(statement)?reversed?eval(state.data[statement])?element.style.display="none":element.style.display="block":eval(state.data[statement])?element.style.display="block":element.style.display="none":console.warn("statement: "+statement+" not found in context")}},exports_2("NailsDirectives",NailsDirectives)}}})),(void 0)("nails/interfaces/ActiveElement",[],(function(e,t){"use strict";t&&t.id;return{setters:[],execute:function(){}}})),(void 0)("nails/classes/ActiveElement",[],(function(e,t){"use strict";t&&t.id;return{setters:[],execute:function(){e("ActiveElement",class{constructor(e,t,n,i){this.element=e,this.reference=t,this.content=n,this.interpolation=i}})}}})),(void 0)("nails/engine",["nails/directiveDefinitions","nails/classes/ActiveElement"],(function(exports_5,context_5){"use strict";var directiveDefinitions_js_1,ActiveElement_js_1,RenderingEngine,__moduleName=context_5&&context_5.id;return{setters:[function(e){directiveDefinitions_js_1=e},function(e){ActiveElement_js_1=e}],execute:function(){RenderingEngine=class RenderingEngine{constructor(e){null==e&&console.log("Engine was initialized without a state"),this.state=e,this.directives=new directiveDefinitions_js_1.NailsDirectives}indexDOM(){if(void 0!==this.state.element){var e=null;if(this.state.element.startsWith("#")){var t=this.state.element.substr(1);e=document.getElementById(t)}else e=document.getElementsByTagName(this.state.element);if(null==e)return void console.error("No element with selector: "+this.state.element+" has been found");if(e instanceof HTMLCollection&&e.length>1)return void console.error("Multiple choices, try using id if the element tag is not unique. Your Selector was: "+this.state.element);if(e instanceof HTMLCollection&&0===e.length)return void console.error("No element with selector: "+this.state.element+" has been found");e instanceof HTMLCollection&&(e=e[0]);var n=this.indexElement(e);for(var i of n)this.executeDirectivesOnElement(i,!0);this.executeInerpolationsOnElement(e)}}insert(e,t,n){return e>0?n.substring(0,e)+t+n.substring(e,n.length):t+n}setTitle(){void 0===this.state.data.title&&null!==this.state.data.title||(document.title=this.state.data.title)}elementCanGetAttribute(e){return"getAttribute"in e}isNForActivated(e){return!!this.elementCanGetAttribute(e)&&null!==e.getAttribute("n-for")}disableInterpolationForVariableNameOnElement(e,t){if(void 0===e||void 0===t)return;for(var n of this.state.disabledElements)if(n.content==e&&n.element==t)return;let i=new ActiveElement_js_1.ActiveElement(t,null,e,e);this.state.disabledElements.push(i)}getElementDerrivedObject(e){return"object"}getElementDerrivedProperty(e){return"property"}getForArrayByStatement(e){let t=e.split(" ");return t[t.length]}isForAttribute(e){let t=e.element;return"getAttribute"in t&&null!==t.getAttribute("n-for")}isActiveElement(e){return this.getElementDirectives(e).length>0}removePrefix(e){return e.substring(2)}prefixDiretive(e){return"n-"+e}getElementDirectives(e){if(void 0===e)return[];for(var t of this.directives.directives)t=this.prefixDiretive(t),"hasAttribute"in e&&e.hasAttribute(t)&&(void 0).push(t)}indexElement(e){for(var t of(this.state.disableElementIfNeeded(e),e.childNodes)){var n=this.indexElement(t);(void 0).push.apply(void 0,n)}this.isActiveElement(e)&&(void 0).push(e)}getElementAttributeForDirective(e,t){return t=this.prefixDiretive(t),e.hasAttribute(t)?e.getAttribute(t):(console.warn("directive: "+t+" not found on element: "+e),"")}executeDirectivesOnElement(e,t){var n=this.getElementDirectives(e);for(let e of n){if((e=this.removePrefix(e))in this.directives)return void this.directives.for(null,null,null);console.warn("not found directive: "+e)}}stripAndTrimNForInterpolation(e){return e=(e=(e=e.replace("[[[","")).replace("]]]","")).trim()}getNForInterpolations(e){var t=(e=e.trim()).match(/\[\[\[(( +)?\w+.?\w+( +)?)\]\]\]/g);if(null!==t)for(let e of t)(void 0).push(e)}getNForInterpolation(e){return(e=e.trim()).match(/\[\[\[(( +)?\w+.?\w+( +)?)\]\]\]/g)?e=this.stripAndTrimNForInterpolation(e):(console.warn("Not found interpolation in submitted value: "+e),e)}getValueOfInterpolation(interpolation){if(interpolation=interpolation.trim(),!interpolation.match(/{{(.?\s?\w?.?\w\s?)+}}/g))return console.warn("Not found interpolation in submitted value: "+interpolation),interpolation;interpolation=this.stripAndTrimInterpolation(interpolation),interpolation=interpolation.trim();var stripped=this.stripAndTrimInterpolation(interpolation),args=stripped.split(".");for(var arg of(stripped="",args))stripped+=arg+".";return stripped=stripped.substring(0,stripped.length-1),void 0===this.state.data[stripped.split(".")[0]]?"undefined":eval("this.state.data."+stripped)}removeWhiteSpaceFromString(e){return e.replace(/\s/g,"")}stripAndTrimInterpolation(e){return void 0===e||null===typeof e?e:e=(e=(e=e.replace("{{","")).replace("}}","")).trim()}getInterpolationsFortextContent(e){if(null!=e){var t=e.match(/{{(.?\s?\w?.?\w\s?)+}}/g);if(null===t)return[];for(var n of t)(void 0).push(n)}}getObjectReferenceByInterpolationName(e){return e=this.stripAndTrimInterpolation(e),this.state.data[e]}interpolateOnTextWithState(e,t){}getContentOfNodeIfTextNodeExists(e){if(3===e.nodeType)return e.nodeValue;if(0===e.childNodes.length)return null;if(this.nodeHasTextNodeAsADirectChild(e))for(var t of e.childNodes)if(null!==this.getContentOfNodeIfTextNodeExists(t))return this.getContentOfNodeIfTextNodeExists(t)}setContentOfTextNode(e,t){return 3!==e.nodeType?(console.error("setContentOfTextNode... this implies that you *HAVE* to provide nothing else than a textNode as argument."),!1):(e.nodeValue=t,!0)}updateInterpolatedElement(e,t){this.executeDirectivesOnElement(e,!1);var n=this.getInterpolationsFortextContent(t);if(0!==n.length){var i=t;for(var r of n){var o=this.getValueOfInterpolation(r);this.isElementDisabled(this.stripAndTrimInterpolation(r),e)||(i=i.replace(r,o))}e.textContent=i}}isDescendant(e,t){for(var n=t.parentNode;null!=n;){if(n==e)return!0;n=n.parentNode}return!1}isElementDisabled(e,t){for(var n of this.state.disabledElements){if((this.isDescendant(t,n.element)||this.isDescendant(n.element,t))&&e.includes(n.content))return!0;if(n.content===e&&n.element===t)return!0}return!1}interpolateElement(e,t){for(var n of t){this.state.disableElementIfNeeded(e);var i=this.getValueOfInterpolation(n);if(this.isElementDisabled(this.stripAndTrimInterpolation(n).trim(),e))continue;let t=e.textContent||e.textContent;if(t=t.replace(n,i),"textContent"in e){e.textContent=t;continue}let r=e;"textContent"in e&&(r.textContent=t)}return e}nodeHasTextNodeAsAChild(e){return 3===e.nodeType||0!==e.childNodes.length&&this.nodeHasTextNodeAsAChild(e)}nodeHasTextNodeAsADirectChild(e){for(var t of e.childNodes)if(3===t.nodeType)return!0;return!1}isTextNode(e){return 3===e.nodeType}sanitize(e){if("string"!=typeof e)return e;var t=document.createElement("div");return t.textContent=e,t.innerHTML}executeInerpolationsOnElement(e){for(var t of e.childNodes)this.executeInerpolationsOnElement(t);var n=this.getInterpolationsFortextContent(e.nodeValue);if(this.isTextNode(e)){if(0===n.length)return;if(3!==e.nodeType)return;for(let t of n)this.state.addActiveElement(e,this.getObjectReferenceByInterpolationName(t),e.nodeValue,t);this.interpolateElement(e,n)}else{if(!this.isNForActivated(e))return;let t=e,n="{{"+t.getAttribute("n-for").split(" ")[3]+"}}";this.state.addActiveElement(t,t.getAttribute("n-for").split(" ")[3],null,n)}}},exports_5("RenderingEngine",RenderingEngine)}}})),(void 0)("nails/coreComponents/router.component",[],(function(e,t){"use strict";t&&t.id;return{setters:[],execute:function(){e("Router",class{constructor(e){this.state=e;var t=this;this.selector="yield",this.hashRoute=window.location.hash.replace("#/",""),this.engine=e.componentEngine,window.onhashchange=function(){void 0!==t.engine&&void 0!==t.engine&&(t.hashRoute=window.location.hash.replace("#/",""),t.engine.recreateComponentsByName("yield"))}}isFunction(e){return e&&"[object Function]"==={}.toString.call(e)}addRoutings(e){this.routings=e}getComponent(){if(void 0===this.routings)return"div";for(var e of this.routings){if(e.route===this.hashRoute)return this.isFunction(e.guard)?e.guard(this)?new e.component(this.state).selector:"div":new e.component(this.state).selector}}navigate(e){window.location.hash="/"+e.replace("/","")}render(){return`\n            <${this.getComponent()}></${this.getComponent()}>\n        `}})}}})),(void 0)("nails/core/injector",[],(function(e,t){"use strict";t&&t.id;return{setters:[],execute:function(){e("Injector",class{constructor(e){this.state=e,this.bootstrap()}bootstrap(){Array.isArray(this.state.injectors)}insert(e){for(let t of this.state.injectors)if(t instanceof e)return;this.state.injectors.push(e)}resolve(e){for(var t of this.state.injectors)if(t instanceof e)return t}})}}})),(void 0)("nails/nails",["nails/state","nails/engine","nails/componentEngine","nails/core/injector"],(function(e,t){"use strict";var n,i,r,o,s;t&&t.id;return{setters:[function(e){n=e},function(e){i=e},function(e){r=e},function(e){o=e}],execute:function(){s=class{create(e){return new e}},e("Nails",class{constructor(e){void 0!==e.methods.onInit&&e.methods.onInit(),this.state=new n.State,e.hasOwnProperty("el")?this.state.element=e.el:console.error("NailsJS cannot be initalized, because no element was specified"),e.hasOwnProperty("data")&&(this.state.data=e.data),e.hasOwnProperty("methods")&&(this.state.methods=e.methods),void 0===e.components?this.state.components=[]:Array.isArray(e.components)?this.state.components=e.components:this.state.components=[],this.engine=new i.RenderingEngine(this.state),this.componentEngine=new r.ComponentEngine(this.state,this.engine,this,e.routings),this.setUpProxy(),this.injector=new o.Injector(this.state),this.prepareInjector(e.declarations),this.state.addInjector(this.injector),this.componentEngine.renderComponents(),this.engine.indexDOM(),this.engine.setTitle(),this.state.methods.getState=function(){return this.state},void 0!==this.state.methods.onMounted&&this.state.methods.onMounted(this.state)}prepareInjector(e){let t=new s;if(Array.isArray(e))for(let n of e){let e=t.create(n);this.injector.insert(e)}else console.warn("Cannot iterate over declarations, since they are not an array")}notifyDOM(e,t,n){var i=this.state.findElementsByObject(e,t);if(i!==[]&&0!==i.length){for(var r of i)r.hasOwnProperty("key")?this.engine.executeDirectivesOnElement(r.element,!1):(this.engine.updateInterpolatedElement(r.element,r.interpolation),this.engine.executeDirectivesOnElement(r.element,!1));return!0}}setUpProxy(){var e={state:this.state,notifyDom:this.notifyDOM,engine:this.engine,get:function(e,t,n){return e[t]},set(e,t,n){return e[t]=n,this.notifyDom(e,t),!0}},t=new Proxy(this.state.data,e);this.state.data=t}})}}})),(void 0)("nails/componentEngine",["nails/coreComponents/router.component"],(function(e,t){"use strict";var n;t&&t.id;return{setters:[function(e){n=e}],execute:function(){e("ComponentEngine",class{constructor(e,t,n,i){this.state=e,this.engine=t,this.instance=this,this.nails=n,this.routings=i}getInstance(){return this.instance}injectComponents(){if(!Array.isArray(this.state.mountedComponents)){this.state.mountedComponents=[];for(let e of this.state.components){let t=new e(this.state);t instanceof n.Router&&(this.state.router=t,t.addRoutings(this.routings),t.navigate("")),this.state.mountedComponents.push(t)}}}traveseElementAndExecuteDirectives(e){if(e){if(e.childNodes.length>0)for(let t of e.childNodes)this.traveseElementAndExecuteDirectives(t);this.engine.executeDirectivesOnElement(e,!0)}}renderComponents(){if(this.injectComponents(),void 0!==this.state.mountedComponents&&null!==this.state.mountedComponents&&this.state.mountedComponents.length>0)for(let r=0;r<300;r++){let r,o=document.body.innerHTML;for(var e of this.state.mountedComponents){var t=document.getElementsByTagName(e.selector);if(0!==t.length){for(var n of t)if(!(n.childNodes.length>0)){var i=e.render();i.includes("<"+e.selector+">")||(n.innerHTML=i,this.traveseElementAndExecuteDirectives(n),this.engine.executeInerpolationsOnElement(n))}r=document.body.innerHTML}}if(o==r)break}}recreateComponentsByName(e){if(void 0!==this.state.mountedComponents&&null!==this.state.mountedComponents){var t=null;for(var n of this.state.mountedComponents)n.selector===e&&(t=n);if(null===t)return;if(null===this.state.mountedComponents[e])return;var i=document.getElementsByTagName(e);for(var r of i){var o=t.render();o.includes("<"+t.selector+">")?console.error("component "+t.selector+" has a recursion with no exit condition"):(r.innerHTML=o,this.renderComponents())}}}recreateAllComponents(){this.renderComponents()}})}}})),(void 0)("nails/interfaces/DirectiveElement",[],(function(e,t){"use strict";t&&t.id;return{setters:[],execute:function(){}}})),(void 0)("nails/state",["nails/engine","nails/componentEngine","nails/classes/ActiveElement"],(function(e,t){"use strict";var n,i,r;t&&t.id;return{setters:[function(e){n=e},function(e){i=e},function(e){r=e}],execute:function(){e("State",class e{constructor(){this.data={},this.activeElements=[],this.activeDirectiveElements=[],this.engine=new n.RenderingEngine(this),this.disabledElements=[],this.componentEngine=new i.ComponentEngine(this,this.engine,null,[])}getInstance(){return null===this.instance&&(this.instance=new e),this.instance}addInjector(e){this.injector=e}addActiveDirectiveElement(e,t,n){for(var i of this.activeDirectiveElements)if(i.key===e&&i.statement===t&&i.element===n)return void console.warn("refusing to insert element");this.activeDirectiveElements.push({key:e,statement:t,element:n})}updateElementRefByObject(e,t){for(var n of this.activeElements)n.element===e&&(n.reference=t)}addActiveElement(e,t,n,i){let o=new r.ActiveElement(t,e,n,i);this.activeElements.push(o)}findElementByRef(e){for(var t of this.activeElements)if(t.reference===e)return t}getHtmlReferenceOfStateElement(e){return e.reference}stripAndTrimInterpolation(e){return"string"!=typeof e?e:e=(e=(e=e.replace("{{","")).replace("}}","")).trim()}disableElementIfNeeded(e){if("getAttribute"in e){var t=e.getAttribute("n-for");if(null===t)return;var n=t.split(" ")[1];this.engine.disableInterpolationForVariableNameOnElement(n,e)}}findElementsByObject(e,t){var n=[];for(var i of this.activeElements)this.stripAndTrimInterpolation(i.interpolation)===t&&n.push(i);for(let e of this.activeDirectiveElements)if(t=t.replace("!",""),e.statement=e.statement.replace("!",""),this.stripAndTrimInterpolation(e.statement)===t){let t=new r.ActiveElement(e.element,null,"","");n.push(t)}return n}})}}})),(void 0)("components/login.component",["modules/injectme.module"],(function(e,t){"use strict";var n;t&&t.id;return{setters:[function(e){n=e}],execute:function(){e("LoginComponent",class{constructor(e){this.state=e,this.selector="login",this.i=0,this.greeter=this.state.injector.resolve(n.Greeter)}incrementCounter(){return this.i++,this.i}render(){return`\n        <div>\n          <input type="text" placeholder="Username ">\n          <input type="text" placeholder="Username">\n          ${this.greeter.greet("Dominic")}\n        </div>\n      `}})}}})),(void 0)("components/showcase.component",[],(function(e,t){"use strict";t&&t.id;return{setters:[],execute:function(){e("ShowcaseComponent",class{constructor(e){this.selector="showcase"}render(){return'\n        <div class="yield">\n            <p>Hi, this is a template rendered with the router</p>\n            {{whoami}}\n            <p>below is a table</p>\n            <table style="width:100%">\n                <tr>\n                    <th>Firstname</th>\n                    <th>Lastname</th>\n                    <th>Age</th>\n                </tr>\n                <tr n-for="let object of sample">\n                    <td>{{object.name}}</td>\n                    <td>{{object.lastname}}</td>\n                    <td>{{whoami}}</td>\n                </tr>\n  \n            </table>\n        </div>'}})}}})),(void 0)("components/navbar.component",[],(function(e,t){"use strict";t&&t.id;return{setters:[],execute:function(){e("NavbarComponent",class{constructor(e){this.state=e,this.selector="nailsnav"}render(){return'\n        <nav class="navbar navbar-expand-lg py-3 navbar-dark bg-dark shadow-sm">\n        <div class="container">\n          <a href="#" class="navbar-brand">\n            \x3c!-- Logo Image --\x3e\n            <img src="assets/logo.png" width="45" alt="" class="d-inline-block align-middle mr-2">\n            \x3c!-- Logo Text --\x3e\n            <span class="text-uppercase font-weight-bold">{{whoami}}</span>\n          </a>\n      \n          <button type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler"><span class="navbar-toggler-icon"></span></button>\n      \n          <div id="navbarSupportedContent" class="collapse navbar-collapse">\n            <ul class="navbar-nav ml-auto">\n              <li class="nav-item active"><a href="#" class="nav-link">Home <span class="sr-only">(current)</span></a></li>\n              <li class="nav-item"><a href="#/login" class="nav-link">Login</a></li>\n              <li class="nav-item"><a href="#/showcase" class="nav-link">Other Routing</a></li>\n            </ul>\n          </div>\n        </div>\n      </nav>\n      '}})}}})),(void 0)("main",["components/login.component","nails/coreComponents/router.component","nails/nails","modules/injectme.module","components/showcase.component","components/navbar.component"],(function(e,t){"use strict";var n,i,r,o,s,a,l;t&&t.id;return{setters:[function(e){n=e},function(e){i=e},function(e){r=e},function(e){o=e},function(e){s=e},function(e){a=e}],execute:function(){l=function(){return null!==localStorage.getItem("jwt")},new r.Nails({el:"body",data:{title:"Your Nails App",whoami:"NailsJS",sample:[{name:"Jill",lastname:"smith"},{name:"Ingo",lastname:"Meyers"}]},methods:{onInit(){},onMounted(e){e.data.headers=[{Test:"Value"}]}},components:[n.LoginComponent,i.Router,s.ShowcaseComponent,a.NavbarComponent],routings:[{component:n.LoginComponent,route:"login"},{component:n.LoginComponent,route:"lappe",guard:l},{component:s.ShowcaseComponent,route:"showcase"}],declarations:[o.Greeter]})}}})),(void 0)("nails/api",[],(function(e,t){"use strict";t&&t.id;return{setters:[],execute:function(){(function(e,t,n){var i=new XMLHttpRequest;if(i.open("GET",e,!0),console.log(t),void 0!==t.data.headers)for(var r of t.data.headers)i.setRequestHeader(Object.keys(r)[0],r[Object.keys(r).pop()]);i.onreadystatechange=function(){4==i.readyState&&n(JSON.parse(i.responseText),i.status)},i.send(null)})}}})),(void 0)("nails/interfaces/StateData",[],(function(e,t){"use strict";t&&t.id;return{setters:[],execute:function(){}}}))}]);