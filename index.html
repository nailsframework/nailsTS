<html>

<head>
    <title>{{ title }}</title>
    <script src="nails/directiveDefinitions.js"></script>
    <script src="nails/state.js"></script>
    <script src="nails/engine.js"></script>
    <script src="nails/nails.js"></script>
    <script src="nails/api.js"></script>

</head>

<body>
    <h1 n-if="boolValue">I am here if boolValue is true, actually it is {{boolValue}} btw, next follows our app title
        {{ title}} and {{someValue}}</h1>
    <h1>{{test}}</h1>
    <input n-form="test" type="text" value="test">


    <table style="width:100%">
        <tr>
          <th>Id</th>
          <th>Name</th>
          <th>Email</th>
          <th>App Title</th>
        </tr>
        <tr n-for="let post of posts" >
          <td>{{post.id}}</td>
          <td>{{post.name}}</td>
          <td>{{post.email}}</td>
          <td>{{title}}</td> 
        </tr>
    </table>
</body>
<style>

</style>

<script>
    'use strict';

    var nails = new Nails({
        el: "body", //Start with # to specify id
        data: {
            title: "Your Nails App",
            boolValue: true,
            someValue: function(){
                var val = 1+1;
                return "1+1 = " +val;
            },
        },
        methods: {
            onInit(){
              console.error('On init called.');
              // This method is called during early construction of the State. As a result, there no state supplied as an argument.
              // You may use this, to trigger your own scripts. Beware, that the dom is not rendert at this time, so use OnMounted for any DOM operations.
                
            },
            onMounted(currentState) {
                get('https://jsonplaceholder.typicode.com/comments', (posts) => {
                    currentState.data.posts = [{id: 1, name: "<img src=x onerror=alert(1)>", email: 1, mail: 1}];
                });
            }
        }
    });

</script>

</html>